---
title: "List Resources"
openapi: "POST /{tenant}/mcp"
description: "List available resources from an MCP server using JSON-RPC 2.0 protocol. Resources represent data or content that can be read or referenced."
---

## Protocol Overview

This endpoint uses **JSON-RPC 2.0** over HTTP to list MCP resources. Resources are data objects, files, or content that the MCP server can provide access to.

## Prerequisites

1. **Session Initialization**: Call `initialize` method and send `notifications/initialized` notification
2. **Authentication**: Valid OAuth token or PAT with `mcp.read` scope
3. **Session ID**: Include `Mcp-Session-Id` header from initialization

## Request Format

<CodeGroup>
```json JSON-RPC Request
{
  "jsonrpc": "2.0",
  "id": "resources-list-123",
  "method": "resources/list",
  "params": {
    "cursor": "optional_pagination_cursor"
  }
}
```

```bash cURL Example
curl -X POST "https://api.kambrium.com/pipedrive/mcp" \
  -H "Authorization: Bearer your_oauth_token" \
  -H "Content-Type: application/json" \
  -H "Mcp-Session-Id: session_abc123" \
  -d '{
    "jsonrpc": "2.0",
    "id": "get-resources",
    "method": "resources/list",
    "params": {}
  }'
```

</CodeGroup>

## Request Parameters

<ParamField path="jsonrpc" type="string" required>
  Must be `"2.0"` (JSON-RPC version)
</ParamField>

<ParamField path="id" type="string" required>
  Unique request identifier (returned in response)
</ParamField>

<ParamField path="method" type="string" required>
  Must be `"resources/list"`
</ParamField>

<ParamField path="params" type="object">
  Optional parameters

  <Expandable title="params properties">
    <ParamField path="cursor" type="string">
      Pagination cursor for fetching next page of results
    </ParamField>
  </Expandable>
</ParamField>

## Response Format

<ResponseField name="jsonrpc" type="string" required>
  Always `"2.0"`
</ResponseField>

<ResponseField name="id" type="string" required>
  Matches the request ID
</ResponseField>

<ResponseField name="result" type="object" required>
  Resources list result
  <Expandable title="result properties">
    <ResponseField name="resources" type="array" required>
      Array of available resources
      <Expandable title="resource object">
        <ResponseField name="uri" type="string" required>
          Unique resource identifier (used for resources/read)
        </ResponseField>

        <ResponseField name="name" type="string" required>
          Human-readable resource name
        </ResponseField>

        <ResponseField name="description" type="string">
          Description of the resource content
        </ResponseField>

        <ResponseField name="mimeType" type="string">
          MIME type of the resource content
        </ResponseField>

        <ResponseField name="annotations" type="object">
          Additional metadata about the resource
          <Expandable title="annotations properties">
            <ResponseField name="audience" type="array">
              Intended audience for this resource
            </ResponseField>

            <ResponseField name="priority" type="number">
              Resource priority (0.0 to 1.0)
            </ResponseField>
          </Expandable>
        </ResponseField>
      </Expandable>
    </ResponseField>

    <ResponseField name="nextCursor" type="string">
      Cursor for next page (if more results available)
    </ResponseField>

  </Expandable>
</ResponseField>

## Example Response

<ResponseExample>
```json Success Response
{
  "jsonrpc": "2.0",
  "id": "resources-list-123",
  "result": {
    "resources": [
      {
        "uri": "crm://contacts/database",
        "name": "Contacts Database",
        "description": "Complete contacts database with all customer information",
        "mimeType": "application/json"
      },
      {
        "uri": "crm://deals/active",
        "name": "Active Deals",
        "description": "Currently active deals in the sales pipeline",
        "mimeType": "application/json"
      },
      {
        "uri": "file://reports/monthly_sales.pdf",
        "name": "Monthly Sales Report",
        "description": "Detailed sales performance report for the current month",
        "mimeType": "application/pdf"
      }
    ],
    "nextCursor": null
  }
}
```

```json Error Response
{
  "jsonrpc": "2.0",
  "id": "resources-list-123",
  "error": {
    "code": -32000,
    "message": "Session not initialized",
    "data": {
      "details": "Call 'initialize' method first to establish MCP session."
    }
  }
}
```

</ResponseExample>

## Resource URI Schemes

Different MCP servers use various URI schemes to organize resources:

| Scheme    | Example                       | Description                  |
| --------- | ----------------------------- | ---------------------------- |
| `crm://`  | `crm://contacts/123`          | CRM system data              |
| `file://` | `file://documents/report.pdf` | File system resources        |
| `api://`  | `api://analytics/dashboard`   | API endpoint data            |
| `db://`   | `db://users/table`            | Database table/query results |

## Access Control

Resources are filtered based on user permissions:

- **OAuth authentication**: Returns user-specific resources based on database permissions
- **User isolation**: Each user sees only resources they have access to
- **Consistent results**: Same user always gets same resources (unless permissions change)

## Resource Capabilities

Servers may advertise additional resource capabilities:

```json
{
  "capabilities": {
    "resources": {
      "subscribe": true,
      "listChanged": true
    }
  }
}
```

- **`subscribe`**: Server supports `resources/subscribe` for change notifications
- **`listChanged`**: Server sends `notifications/resources/list_changed` when resources are added/removed

## Common Error Codes

| Code     | Meaning                 | Solution                       |
| -------- | ----------------------- | ------------------------------ |
| `-32000` | Session not initialized | Call `initialize` method first |
| `-32001` | Authentication failed   | Verify OAuth token validity    |
| `-32602` | Invalid params          | Check request parameter format |
| `-32603` | Internal server error   | Server-side processing error   |

## Usage Patterns

### Basic Resource Discovery

```javascript
// Get available resources
const response = await mcpClient.request("resources/list", {});
const resources = response.result.resources;

console.log(`Found ${resources.length} resources:`);
resources.forEach((resource) => {
  console.log(`- ${resource.name} (${resource.uri})`);
});
```

### Resource Filtering

```javascript
// Filter resources by type
function filterResourcesByType(resources, mimeType) {
  return resources.filter((resource) => resource.mimeType === mimeType);
}

// Get only JSON resources
const jsonResources = filterResourcesByType(resources, "application/json");

// Get only PDF documents
const pdfResources = filterResourcesByType(resources, "application/pdf");
```

### Pagination Handling

```javascript
// Handle paginated resource lists
async function getAllResources() {
  let allResources = [];
  let cursor = null;

  do {
    const response = await mcpClient.request(
      "resources/list",
      cursor ? { cursor } : {}
    );

    allResources.push(...response.result.resources);
    cursor = response.result.nextCursor;
  } while (cursor);

  return allResources;
}
```

### Resource Validation

```javascript
// Validate resource structure
function validateResource(resource) {
  const required = ["uri", "name"];
  const missing = required.filter((field) => !(field in resource));

  if (missing.length > 0) {
    throw new Error(`Resource missing required fields: ${missing.join(", ")}`);
  }

  // Validate URI format
  if (!resource.uri || typeof resource.uri !== "string") {
    throw new Error("Resource URI must be a non-empty string");
  }

  return {
    uri: resource.uri,
    name: resource.name,
    type: resource.mimeType || "unknown",
    hasDescription: !!resource.description,
  };
}
```

## Next Steps

- **Read resource content** with [resources/read](./resources-read)
- **Subscribe to changes** using `resources/subscribe` (if supported)
- **Monitor updates** via `notifications/resources/list_changed`
