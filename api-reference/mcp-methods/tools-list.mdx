---
title: "List Tools"
openapi: "POST /{tenant}/mcp"
description: "List available tools from an MCP server using JSON-RPC 2.0 protocol. This method returns all tools that can be executed via the tools/call method."
---

## Protocol Overview

This endpoint uses **JSON-RPC 2.0** over HTTP to list MCP tools. Tools are functions that can be executed by AI systems to interact with external services and data sources.

## Prerequisites

1. **Session Initialization**: Call `initialize` method and send `notifications/initialized` notification
2. **Authentication**: Valid OAuth token or PAT with `mcp.read` scope
3. **Session ID**: Include `Mcp-Session-Id` header from initialization

## Request Format

<CodeGroup>
```json JSON-RPC Request
{
  "jsonrpc": "2.0",
  "id": "tools-list-123",
  "method": "tools/list",
  "params": {
    "cursor": "optional_pagination_cursor"
  }
}
```

```bash cURL Example
curl -X POST "https://api.kambrium.com/pipedrive/mcp" \
  -H "Authorization: Bearer your_oauth_token" \
  -H "Content-Type: application/json" \
  -H "Mcp-Session-Id: session_abc123" \
  -d '{
    "jsonrpc": "2.0",
    "id": "tools-list-request",
    "method": "tools/list",
    "params": {}
  }'
```

</CodeGroup>

## Request Parameters

<ParamField path="jsonrpc" type="string" required>
  Must be `"2.0"` (JSON-RPC version)
</ParamField>

<ParamField path="id" type="string" required>
  Unique request identifier (returned in response)
</ParamField>

<ParamField path="method" type="string" required>
  Must be `"tools/list"`
</ParamField>

<ParamField path="params" type="object">
  Optional parameters

  <Expandable title="params properties">
    <ParamField path="cursor" type="string">
      Pagination cursor for fetching next page of results
    </ParamField>
  </Expandable>
</ParamField>

## Response Format

<ResponseField name="jsonrpc" type="string" required>
  Always `"2.0"`
</ResponseField>

<ResponseField name="id" type="string" required>
  Matches the request ID
</ResponseField>

<ResponseField name="result" type="object" required>
  Tools list result
  <Expandable title="result properties">
    <ResponseField name="tools" type="array" required>
      Array of available tools
      <Expandable title="tool object">
        <ResponseField name="name" type="string" required>
          Tool identifier (used in tools/call)
        </ResponseField>

        <ResponseField name="description" type="string" required>
          Human-readable tool description
        </ResponseField>

        <ResponseField name="inputSchema" type="object">
          JSON Schema defining tool parameters
          <Expandable title="inputSchema properties">
            <ResponseField name="type" type="string">
              Usually `"object"`
            </ResponseField>

            <ResponseField name="properties" type="object">
              Parameter definitions
            </ResponseField>

            <ResponseField name="required" type="array">
              List of required parameter names
            </ResponseField>
          </Expandable>
        </ResponseField>
      </Expandable>
    </ResponseField>

    <ResponseField name="nextCursor" type="string">
      Cursor for next page (if more results available)
    </ResponseField>

  </Expandable>
</ResponseField>

## Example Response

<ResponseExample>
```json Success Response
{
  "jsonrpc": "2.0",
  "id": "tools-list-123",
  "result": {
    "tools": [
      {
        "name": "get_contacts",
        "description": "Retrieve contacts from the CRM system",
        "inputSchema": {
          "type": "object",
          "properties": {
            "limit": {
              "type": "integer",
              "description": "Maximum number of contacts to return",
              "minimum": 1,
              "maximum": 100
            },
            "filter": {
              "type": "string",
              "description": "Filter contacts by name or email"
            }
          },
          "required": ["limit"]
        }
      },
      {
        "name": "create_deal",
        "description": "Create a new deal in the CRM",
        "inputSchema": {
          "type": "object",
          "properties": {
            "title": {
              "type": "string",
              "description": "Deal title"
            },
            "value": {
              "type": "number",
              "description": "Deal value in currency units"
            },
            "person_id": {
              "type": "integer",
              "description": "ID of the person associated with the deal"
            }
          },
          "required": ["title", "value"]
        }
      }
    ],
    "nextCursor": null
  }
}
```

```json Error Response
{
  "jsonrpc": "2.0",
  "id": "tools-list-123",
  "error": {
    "code": -32000,
    "message": "Session not initialized",
    "data": {
      "details": "Call 'initialize' method first to establish MCP session."
    }
  }
}
```

</ResponseExample>

## OAuth Filtering

Tools are filtered based on OAuth authentication:

- **With OAuth token**: Returns user-specific tools based on database permissions
- **Access control**: Each user sees only tools they have permission to execute
- **Consistent results**: Same user always gets same tools (unless permissions change)

## Tool Capabilities

Servers may advertise `listChanged` capability to notify when tools are added/removed:

```json
{
  "capabilities": {
    "tools": {
      "listChanged": true
    }
  }
}
```

If supported, server will send `notifications/tools/list_changed` when tool list updates.

## Common Error Codes

| Code     | Meaning                 | Solution                       |
| -------- | ----------------------- | ------------------------------ |
| `-32000` | Session not initialized | Call `initialize` method first |
| `-32001` | Authentication failed   | Verify OAuth token validity    |
| `-32602` | Invalid params          | Check request parameter format |
| `-32603` | Internal server error   | Server-side processing error   |

## Usage Patterns

### Basic Tool Discovery

```javascript
// Get available tools
const response = await mcpClient.request("tools/list", {});
const tools = response.result.tools;

console.log(`Found ${tools.length} tools:`);
tools.forEach((tool) => {
  console.log(`- ${tool.name}: ${tool.description}`);
});
```

### Tool Validation

```javascript
// Validate tool has required parameters
function validateTool(tool) {
  const schema = tool.inputSchema;
  const required = schema?.required || [];

  console.log(`Tool: ${tool.name}`);
  console.log(`Required params: ${required.join(", ")}`);

  return {
    name: tool.name,
    hasRequiredParams: required.length > 0,
    requiredParams: required,
  };
}
```

### Pagination Handling

```javascript
// Handle paginated tool lists
async function getAllTools() {
  let allTools = [];
  let cursor = null;

  do {
    const response = await mcpClient.request(
      "tools/list",
      cursor ? { cursor } : {}
    );

    allTools.push(...response.result.tools);
    cursor = response.result.nextCursor;
  } while (cursor);

  return allTools;
}
```

## Next Steps

- **Execute tools** with [tools/call](./tools-call)
- **Get argument completions** using [completion/complete](./utilities)
- **Monitor changes** via `notifications/tools/list_changed`
