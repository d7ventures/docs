---
title: "MCP Server"
description: "OAuth 2.1 and PAT authentication for MCP protocol operations"
---

MCP servers require authentication for protocol operations, tool execution, and resource access using the same two methods as the Management API.

## OAuth 2.1 Client Credentials

Standard OAuth flow for production MCP clients:

```bash
curl -X POST https://us-east-1clpqjbygz.auth.us-east-1.amazoncognito.com/oauth2/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -u "client_id:client_secret" \
  -d "grant_type=client_credentials&scope=mcp.read+mcp.write+mcp.tools.execute"
```

**Response:**

```json
{
  "access_token": "eyJhbGciOiJSUzI1NiIs...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "mcp.read mcp.write mcp.tools.execute"
}
```

## Personal Access Tokens (PATs)

Long-lived tokens for MCP server access:

**Token Structure:**

```json
{
  "iss": "https://cognito-idp.us-east-1.amazonaws.com/us-east-1_CLpqjbYgz",
  "aud": "default-m2m-resource-server-z958ha",
  "client_id": "pat_z7LIZZJTxqCF7mUyPpBr6UKhvYNIrLdV",
  "scopes": ["mcp.read", "mcp.write", "mcp.tools.execute"],
  "context": "mcp_server_access",
  "mcp_server_id": "server_123"
}
```

## Available Scopes

- **mcp.read** - Read resources and server information
- **mcp.write** - Execute write operations on tools
- **mcp.tools.execute** - Execute MCP tools and functions
- **mcp.resources.read** - Access resource content
- **mcp.prompts.read** - Access available prompts

## MCP Protocol Authentication

### Initialize Connection

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "initialize",
  "params": {
    "protocolVersion": "2024-11-05",
    "capabilities": {
      "tools": {},
      "resources": {}
    }
  }
}
```

### List Available Tools

```bash
curl -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc": "2.0", "id": 1, "method": "tools/list"}' \
  https://mcp.kambrium.com/server_123
```

### Execute Tool

```bash
curl -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "tools/call",
    "params": {
      "name": "create_deal",
      "arguments": {"title": "New Deal", "value": 1000}
    }
  }' \
  https://mcp.kambrium.com/server_123
```

## Server-Specific Access

**Tokens with mcp_server_id:** Access specific MCP server instance
**Tokens without mcp_server_id:** Access all authorized MCP servers
